(()=>{"use strict";var t,E={232:(t,a,n)=>{var S=n(595),h=n(670),d=n(938),g=n(228);const l="__type__";var c=(()=>{return(r=c||(c={})).STATUS="status",r.RESULT="result",r.RUN="run",c;var r})();function b(r,e){postMessage({data:r,[l]:e})}function w(r,e){return l in r&&r[l]===e}const _="progress_status";class T{constructor(e){this.callback=e,this.previousData=void 0}maybeCallWith(e){(0,d.isEqual)(e,this.previousData)||(this.previousData=e,this.callback(e))}}class x{constructor(e,o,i=!1){this.processorGenerator=e,this.isDebugging=i,this.idleProcessors=[],this.pendingWorkQueue=[],this.runningWorkQueue=[],this.isStartWorkQueued=!1,(0,d.range)(o).forEach(()=>this.idleProcessors.push(e()))}hasWork(){return this.pendingWorkQueue.length>0}hasIdleProcessors(){return this.idleProcessors.length>0}queueStartWork(){this.isStartWorkQueued||(setTimeout(()=>this.startWork(),0),this.isStartWorkQueued=!0)}startWork(){this.debug("startWork",this.pendingWorkQueue.length,this.idleProcessors.length),this.isStartWorkQueued=!1,(0,d.range)(Math.min(this.pendingWorkQueue.length,this.idleProcessors.length)).forEach(()=>{if(!this.hasWork()||!this.hasIdleProcessors())return;const e=this.dequeueFirst(),o=this.idleProcessors.pop();this.onWorkStarted(e,o),this.debug("Starting work",e.id,e.work.functionName),o.execute(e.work,e.onStatus).then(i=>(this.debug("Work result",e.id,e.work.functionName),e.onData(i))).catch(i=>{this.debug("Work error:",i,e.work.functionName),e.onError(i)}).finally(()=>{this.debug("Work finished",e.id,e.work.functionName),this.stop(e.id),this.queueStartWork()})})}debug(...e){this.isDebugging&&console.debug(...e)}onWorkStarted(e,o){this.debug("onWorkStarted",e.id,e.work.functionName),this.runningWorkQueue.push({queuedWork:e,processor:o})}stop(e,o=(()=>{})){this.debug("stop",e),this.dequeue(e);const i=this.dequeueWorkInProgress(e);i&&(this.debug("Stopping processor"),i.processor.stop(),o(i),this.debug("Recycling processor"),this.idleProcessors.push(i.processor))}enqueue(e){const o=new g.x,i=new T(k=>o.next(k)),u=`${this.pendingWorkQueue.length}_${(new Date).getTime()}_${Math.floor(1e4*Math.random())}`,p=()=>{this.debug("workHandler stop",u),this.stop(u)};this.debug("enqueue",u,e.functionName);const f=new Promise((k,W)=>{this.pendingWorkQueue.push({id:u,work:e,stop:p,onData:k,onError:W,onStatus:m=>i.maybeCallWith(m)}),this.debug("pendingWork push",u,e.functionName,this.pendingWorkQueue.length)});return this.queueStartWork(),{id:u,data:f,status:o,stop:p}}dequeueFirst(){this.debug("dequeueFirst");const e=this.pendingWorkQueue.slice(0,1).pop();if(e)return this.dequeue(e.id)}dequeue(e){this.debug("dequeue",e);const o=this.pendingWorkQueue.findIndex(i=>i.id===e);if(o>-1)return this.pendingWorkQueue.splice(o,1).pop()}dequeueWorkInProgress(e){this.debug("dequeueWorkInProgress",e);const o=this.runningWorkQueue.findIndex(i=>i.queuedWork.id===e);if(o>-1)return this.runningWorkQueue.splice(o,1).pop()}stopAll(){this.pendingWorkQueue.forEach(e=>e.stop()),this.runningWorkQueue.forEach(e=>e.queuedWork.stop())}}var r;(r=x||(x={})).WebWorkerProcessor=class e{constructor(u){this.workerGenerator=u}getWorker(){return this.worker||(this.worker=this.workerGenerator()),this.worker}execute(u,p){const f=this.getWorker(),k=new Promise((W,m)=>{f.onmessage=({data:P})=>{!function L(r){return w(r,c.RESULT)}(P)?function U(r){return w(r,c.STATUS)}(P)&&p(P.data.data):W(P.data)},f.onerror=m,f.onmessageerror=m}).finally(()=>{f.onmessage=()=>{},f.onerror=()=>{},f.onmessageerror=()=>{}});return f.postMessage(function q(r,e){return{[l]:c.RUN,functionName:r,args:e}}(u.functionName,u.args)),k}stop(){var u;null===(u=this.worker)||void 0===u||u.terminate(),this.worker=void 0}},r.LocalProcessor=class o{execute(u,p){return(0,h.Z)(function*(){const f=W=>{p(W.detail.data)};self.addEventListener(_,f);const k=yield u.function(...u.args);return self.removeEventListener(_,f),k})()}stop(){}},function D(r){const e=new T(o=>function Q(r){b(r,c.STATUS)}(o.detail));self.addEventListener(_,o=>{"root"===o.detail.id&&e.maybeCallWith(o)}),self.addEventListener("message",function(){var o=(0,h.Z)(function*(i){const{data:u}=i;if(!function C(r,e){return w(r,c.RUN)&&"functionName"in r&&"args"in r&&"string"==typeof r.functionName&&Array.isArray(r.args)&&r.functionName in e&&"function"==typeof e[r.functionName]}(u,r)){const p=Object.fromEntries(Object.entries(r).map(([f,k])=>[f,typeof k]));throw new Error(`Invalid ${c.RUN} message ${JSON.stringify(u,null,2)}. Expose object structure: ${JSON.stringify(p,null,2)}`)}!function M(r){b(r,c.RESULT)}(yield r[u.functionName](...u.args))});return function(i){return o.apply(this,arguments)}}())}(S.js)}},y={};function s(t){var a=y[t];if(void 0!==a)return a.exports;var n=y[t]={id:t,loaded:!1,exports:{}};return E[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=E,s.x=()=>{var t=s.O(void 0,[47],()=>s(232));return s.O(t)},t=[],s.O=(a,n,S,h)=>{if(!n){var g=1/0;for(d=0;d<t.length;d++){for(var[n,S,h]=t[d],l=!0,c=0;c<n.length;c++)(!1&h||g>=h)&&Object.keys(s.O).every(N=>s.O[N](n[c]))?n.splice(c--,1):(l=!1,h<g&&(g=h));if(l){t.splice(d--,1);var v=S();void 0!==v&&(a=v)}}return a}h=h||0;for(var d=t.length;d>0&&t[d-1][2]>h;d--)t[d]=t[d-1];t[d]=[n,S,h]},s.n=t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return s.d(a,{a}),a},s.d=(t,a)=>{for(var n in a)s.o(a,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},s.f={},s.e=t=>Promise.all(Object.keys(s.f).reduce((a,n)=>(s.f[n](t,a),a),[])),s.u=t=>t+".a77b4e54f0d57a94.js",s.miniCssF=t=>{},s.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;s.tt=()=>(void 0===t&&(t={createScriptURL:a=>a},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("angular#bundler",t))),t)})(),s.tu=t=>s.tt().createScriptURL(t),s.p="",(()=>{var t={232:1};s.f.i=(h,d)=>{t[h]||importScripts(s.tu(s.p+s.u(h)))};var n=self.webpackChunkapp=self.webpackChunkapp||[],S=n.push.bind(n);n.push=h=>{var[d,g,l]=h;for(var c in g)s.o(g,c)&&(s.m[c]=g[c]);for(l&&l(s);d.length;)t[d.pop()]=1;S(h)}})(),(()=>{var t=s.x;s.x=()=>s.e(47).then(t)})(),s.x()})();
//# sourceMappingURL=232.0c000d62613e8b0f.js.map